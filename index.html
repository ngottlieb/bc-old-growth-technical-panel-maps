<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <script src='https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.css' rel='stylesheet' />

  <title>BC Old Growth Technical Panel Mapping (Fall 2021)</title>

  <style>
    body {
      height: 100vh;
      width: 100%;
      padding: 0;
      margin: 0;
    }

    .map-overlay {
      position: absolute;
      width: 100%;
      top: 0;
      left: 0;
    }

    @media (min-width: 768px) {
      .map-overlay {
        position: absolute;
        width: 200px;
        top: 10px;
        right: 10px;
        left: unset;
        width: 25rem;
      }
    }

    .map-overlay-inner {
      background-color: #fff;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      border-radius: 3px;
      padding: 10px;
    }

    #overlayCollapseToggle {
      background: white;
      width: 10rem;
      cursor: pointer;
      text-align: center;
      display: block;
      border-radius: 0 0 3px 3px;
    }
  </style>
</head>

<body>

  <div id='map' style='width: 100%; height: 100%;'></div>
  <div class="map-overlay">
    <div class="map-overlay-inner card collapse show" id="overlayCollapse">
      <fieldset class="mb-3">
        <label for="map" class="form-label">Currently showing:</label>
        <select name="map" class="form-select" id="mapSelector" aria-label="Select which map to display">
          <option selected value="map-1-priority-deferrals">Map 1: Priority Deferrals</option>
          <option value="map-2-big-tree-og">Map 2: Big-treed Old Growth</option>
          <option value="map-3-priority-big-tree-og">Map 3: Prioritised Big-treed Old Growth</option>
          <option value="map-4-ancient-forest">Map 4: Ancient Forest</option>
          <option value="map-5-remnant-ecosystems">Map 5: Remnant Ecosystems</option>
          <option value="map-6-intact-watersheds">Map 6: Intact Watersheds</option>
          <option value="map-7-recruitment-forest">Map 7: Recruitment Forest</option>
        </select>
        <div id="zoomHelpText" class="alert alert-primary d-flex align-items-center mb-0 mt-2"
          style="display:none !important;" role="alert">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
            class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img"
            aria-label="Warning:">
            <path
              d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
          </svg>
          <span>You must zoom in more to see this layer</span>
        </div>
      </fieldset>
      <fieldset>
        <label for="basemap" class="form-label">Basemap:</label>
        <div class="btn-group w-100" role="group" aria-label="Base map toggle">
          <input type="radio" class="btn-check" name="basemap" id="btnTopo" autocomplete="off" checked>
          <label class="btn btn-outline-primary" for="btnTopo">Topo</label>

          <input type="radio" class="btn-check" name="basemap" id="btnSatellite" autocomplete="off">
          <label class="btn btn-outline-primary" for="btnSatellite">Satellite</label>

        </div>
      </fieldset>
      <hr />

      <div id="mapDescription">
        <p><strong>This map shows an overall picture of the panelâ€™s priority recommendations for harvest
            deferral.</strong></p>
        It is a combination of: <ul>
          <li>Prioritized old growth with large trees (Map 3)</li>
          <li>Areas mapped as ancient forest (Map 4)</li>
          <li>Remnant old ecosystems (Map 5)</li>
        </ul>
      </div>
      <hr />
      <button class="btn btn-primary btn-small info" data-bs-toggle="modal" data-bs-target="#infoModal">About this
        map</button>
    </div>
    <div class="d-flex justify-content-center d-md-none">
      <button id="overlayCollapseToggle" data-bs-toggle="collapse" data-bs-target="#overlayCollapse" role="button"
        aria-expanded="true" aria-controls="overlayCollapse" class="btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" class="bi bi-caret-down-fill" id="downCaret"
          viewBox="0 0 16 16" style="display: none;">
          <path
            d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z" />
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" id="upCaret"
          class="bi bi-caret-up-fill" viewBox="0 0 16 16">
          <path
            d="m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z" />
        </svg>
      </button>
    </div>
  </div>

  <div class="modal" id="infoModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">BC Old Growth Technical Advisory Panel Mapping</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>
            On November 2nd, the BC government <a href="https://news.gov.bc.ca/releases/2021FLNRO0068-002088">announced
              it's intent</a>
            to pursue "priority deferral" of 2.6 million hectares of old growth forest.
            This announcement was coupled with the release of the Old Growth Technical Advisory Panel's
            <a
              href="https://www2.gov.bc.ca/assets/gov/farming-natural-resources-and-industry/forestry/stewardship/old-growth-forests/summary_for_g2g_package.pdf">report
              on priority deferrals</a>
            and <a
              href="https://www2.gov.bc.ca/gov/content/industry/forestry/managing-our-forest-resources/old-growth-forests/old-growth-maps">associated
              maps</a>,
            including the latest inventory data for old and rare ecosystems in BC.
          </p>
          <p>
            The release included map images that are not high enough resolution to use at any sort of meaningful scale.
            It
            also
            included geospatial data; those data were used to make these maps. The text describing each map is from
            the government's
            "<a
              href="https://www.for.gov.bc.ca/ftp/HTS/external/!publish/OldGrowthStrategicReview/Recommendation6/TechnicalAdvisoryPanel/Spatial_Data/Brief%20Description%20Old%20Growth%20Technical%20Advisory%20Panel%20Maps%20and%20Spatial%20Data.Maps1-8.Nov02.pdf">Brief
              Overview of Spatial Data.</a>"
          </p>
          <hr />
          This map interface was created and is <a href="https://github.com/ngottlieb/bc-bigtree-registry">maintained by
            Nick Gottlieb</a>, author of the <a href="https://ngottlieb.github.io/sacredheadwaters/">Sacred
            Headwaters</a>
          newsletter.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
  <script src="main.js"></script>


</body>

</html>